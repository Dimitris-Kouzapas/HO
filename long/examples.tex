\section{Examples of Encoding}


\subsection{$\recp{X}{\bout{a}{m} \rvar{X}}$}

\subsubsection{Encoding}

\[
	\begin{array}{rcl}
		\pmapp{\recp{X}{\bout{a}{m} \rvar{X}}}{2}{f} & = &
		\newsp{s_1}{ \binp{s_1}{X} \pmapp{\bout{a}{m} \rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m} \Par \bout{\dual{s_1}}{ \abs{x_a x_m z} \binp{z}{X} \auxmapp{\pmapp{\bout{a}{m} \rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m}}{v}{\es} } \inact}
		\\

		\pmapp{\bout{a}{m} \rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m} &=&
		\bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \pmapp{\rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m}
		\\
		&=& \bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_2}{\appl{X}{a,m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact}
		\\

		\auxmapp{\pmapp{\bout{a}{m} \rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m}}{v}{\es} &=&
		\auxmapp{\bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_2}{\appl{X}{a,m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact}}{v}{\es}
		\\

		& = & \bout{x_a}{\abs{x}{\binp{x}{X} \appl{X}{x_m}}} \auxmapp{\newsp{s_2}{\appl{X}{a,m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact}}{v}{\es}
		\\
		& = & \bout{x_a}{\abs{x}{\binp{x}{X} \appl{X}{x_m}}} \newsp{s_2}{\appl{X}{x_a,x_m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact}
	\end{array}
\]
\noi The whole encoding would be:
\[
	\begin{array}{rcl}
		V & = & \abs{x_a x_m z} \binp{z}{X} \bout{x_a}{\abs{x}{\binp{x}{X} \appl{X}{x_m}}} \newsp{s_2}{\appl{X}{x_a,x_m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact}\\
		P & \scong &
		\newsp{s_1}{\bout{\dual{s_1}}{V} \inact \Par \binp{s_1}{X} \bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_2}{\bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact} \Par \appl{X}{a,m, s_2}}
	\end{array}
\]

\subsubsection{Transition}

\noi We can observe $P$ as:
\[
	\begin{array}{rcl}
		P &\scong&
		\newsp{s_1}{\bout{\dual{s_1}}{V} \inact \Par \binp{s_1}{X} \bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_2}{\bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact} \Par \appl{X}{a,m, s_2}}
		\\
		&\by{\tau}&
		\bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}}\\
		&& \newsp{s_2}{\bout{\dual{s_2}}{V} \inact \Par \binp{s_2}{X} \bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_3}{\bout{\dual{s_3}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact} \Par \appl{X}{a,m, s_3}}
		\\
		&\scong_{\alpha}&
		\bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}}\\
		& & \newsp{s_1}{\bout{\dual{s_1}}{V} \inact \Par \binp{s_1}{X} \bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_2}{\bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact} \Par \appl{X}{a,m, s_2}}\\
		&\scong& \bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} P
		\\
		&\by{\bactout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}}}& P
	\end{array}
\]

\subsubsection{Types}

\begin{eqnarray}
	\tree{
		\begin{array}{l}
			\Gamma; \es; \es \proves a \hastype U_1 = \chtype{\lhot{\btinp{\lhot{U_2}} \tinact}} \\
			\Gamma; \es; \es \proves m \hastype U_2\\
			\Gamma; \es; s_2: \proves s_2 : \btinp{L} \tinact \proves s_2 \hastype \btinp{L} \tinact\\ 
			\Gamma; \es; \es \proves X \hastype \shot{(U_1, U_2, \btinp{L} \tinact)}
		\end{array}
	}{
		\Gamma; \es; s_2 : \btinp{L} \tinact \proves \appl{X}{a,m, s_2} \hastype \Proc
	}
	\label{ex:type1}
\end{eqnarray}

\begin{eqnarray}
	\tree{
		\tree{
			\begin{array}{l}
				\Gamma \cat x_a: U_1 \cat x_m: U_2; \es; \es \proves x_a \hastype U_1 = \chtype{\lhot{\btinp{\lhot{U_2}} \tinact}} \\
				\Gamma \cat x_a: U_1 \cat x_m: U_2 ; \es; \es \proves x_m \hastype U_2\\
				\Gamma; \es; z: \btinp{L} \tinact \proves z \hastype \btinp{L} \tinact\\
				\Gamma; \es; \es \proves X \hastype \shot{(U_1, U_2, \btinp{L} \tinact)}
			\end{array}
		}{
			\Gamma \cat x_a: U_1 \cat x_m: U_2 ; \es; z: \btinp{L} \tinact \proves \appl{X}{x_a x_m z} \hastype \Proc
		}
	}{
		\Gamma; \es; \es \proves \abs{x_a x_m z}{\appl{X}{x_a x_m z}} \hastype \shot{(U_1, U_2, \btinp{L} \tinact)}
	}
	\label{ex:type2}
\end{eqnarray}

\begin{eqnarray}
	\tree{
		\textrm{Result}~\ref{ex:type1}
		\quad
		\tree{
			\textrm{Result}~\ref{ex:type2}
			\quad
			\Gamma; \es; \dual{s_2} : \btout{\shot{(U_1, U_2, \btinp{L} \tinact)}} \tinact \proves \dual{s_2} \hastype \btout{\shot{(U_1, U_2, \btinp{L} \tinact)}} \tinact
		}{
			\Gamma; \es; \dual{s_2} : \btout{\shot{(U_1, U_2, \btinp{L} \tinact)}} \tinact \proves \bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact \hastype \Proc
		}
	}{
		\Gamma; \es; s_2: \btinp{L} \tinact \cat \dual{s_2}: \btout{\shot{(U_1, U_2, \btinp{L} \tinact)}} \tinact \proves \bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact \Par \appl{X}{a,m, s_2} \hastype \Proc
	}
	\label{ex:type3}
\end{eqnarray}


\begin{eqnarray}
	\tree{
		\begin{array}{l}
			\textrm{Result}~\ref{ex:type3}
			\quad
			\btinp{L} \tinact \dualof \btout{\shot{(U_1, U_2, \btinp{L} \tinact)}} \tinact\\
			L = \shot{(U_1, U_2, \btinp{L} \tinact)} \textrm{ implies }\\
			\btinp{L} \tinact = \trec{t}{\btinp{\shot{(U_1, U_2, t)}} \tinact}
%			= \btinp{\shot{(U_1, U_2, \btinp{\trec{t}{\btinp{\shot{(U_1, U_2, \btinp{t} \tinact)}} \tinact}} \tinact)}} \tinact	
		\end{array}
	}{
		\Gamma; \es; \es \proves \newsp{s_2}{\bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact \Par \appl{X}{a,m, s_2} \hastype \Proc}
	}
\end{eqnarray}



%\[
%	\begin{array}{l}
%		\Gamma = a: \chtype{\lhot{\btinp{\lhot{U}} \tinact}} \cat m: U\\
%		\Gamma \cat X : \shot{(\chtype{U}, U, \trec{t}{\btinp{\chtype{U}, U, \vart{t}}} \tinact)} ; \es; \es \proves \newsp{s_2}{\bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact \Par \appl{X}{a,m, s_2}} \hastype \Proc\\
%		\Gamma \cat X : \shot{(\chtype{U}, U, \trec{t}{\btinp{\chtype{U}, U, \vart{t}}} \tinact)} ; \es; \es \proves \bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_2}{\bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact \Par \appl{X}{a,m, s_2}} \hastype \Proc\\
%		\Gamma; \es; \es \proves \newsp{s_1}{\bout{\dual{s_1}}{V} \inact \Par \binp{s_1}{X} \bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_2}{\bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact} \Par \appl{X}{a,m, s_2}} \hastype \Proc
%	\end{array}
%\]



\subsection{$\recp{X}{\bout{a}{m} \inact \Par \rvar{X}}$}

\[
	\begin{array}{rcl}
		\pmapp{\recp{X}{\bout{a}{m} \inact \Par \rvar{X}}}{2}{f} & = &
		\newsp{s_1}{ \binp{s_1}{X} \pmapp{\bout{a}{m} \inact \Par \rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m} \Par \bout{\dual{s_1}}{ \abs{x_a x_m z} \binp{z}{X} \auxmapp{\pmapp{\bout{a}{m} \inact \Par \rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m}}{v}{\es} } \inact}
		\\

		\pmapp{\bout{a}{m} \inact \Par \rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m} &=&
		\bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \inact \Par \pmapp{\rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m}
		\\
		&=& \bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \inact \Par \newsp{s_2}{\appl{X}{a,m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact}
		\\

		\auxmapp{\pmapp{\bout{a}{m} \inact \Par \rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m}}{v}{\es} &=&
		\auxmapp{\bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \inact \Par  \newsp{s_2}{\appl{X}{a,m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact}}{v}{\es}
		\\
		& = & \bout{x_a}{\abs{x}{\binp{x}{X} \appl{X}{x_m}}} \inact \Par \auxmapp{\newsp{s_2}{\appl{X}{a,m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact}}{v}{\es}
		\\
		& = & \bout{x_a}{\abs{x}{\binp{x}{X} \appl{X}{x_m}}} \inact \Par \newsp{s_2}{\appl{X}{x_a,x_m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact}
	\end{array}
\]
\noi The whole encoding would be:
\[
	\begin{array}{rcl}
		V & = & \abs{x_a x_m z} \binp{z}{X} (\bout{x_a}{\abs{x}{\binp{x}{X} \appl{X}{x_m}}} \inact \Par \newsp{s_2}{\appl{X}{x_a,x_m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact)}\\
		P & \scong &
		\newsp{s_1}{\bout{\dual{s_1}}{V} \inact \Par \binp{s_1}{X} (\bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \inact \Par  \newsp{s_2}{\bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact} \Par \appl{X}{a,m, s_2})}
	\end{array}
\]

\noi We can observe $P$ as:
\[
	\begin{array}{rcl}
		P &\scong&
		\newsp{s_1}{\bout{\dual{s_1}}{V} \inact \Par \binp{s_1}{X} (\bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \inact \Par  \newsp{s_2}{\bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact} \Par \appl{X}{a,m, s_2})}
		\\
		&\by{\tau}&
		\bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \inact \Par \\
		&& \newsp{s_2}{\bout{\dual{s_2}}{V} \inact \Par \binp{s_2}{X} (\bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \inact \Par \newsp{s_3}{\bout{\dual{s_3}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact} \Par \appl{X}{a,m, s_3})}\\
		&\scong_\alpha&
		\bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \inact \Par \\
		&& \newsp{s_1}{\bout{\dual{s_1}}{V} \inact \Par \binp{s_1}{X} (\bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \inact \Par \newsp{s_2}{\bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact} \Par \appl{X}{a,m, s_2})}
		\\

		&\scong& \bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \inact \Par P
	\end{array}
\]


\subsection{$\recp{X}{\bout{s}{m} \rvar{X}}$}

\[
	\begin{array}{rcl}
		\pmapp{\recp{X}{\bout{s}{m} \rvar{X}}}{2}{f} & = &
		\newsp{s_1}{ \binp{s_1}{X} \pmapp{\bout{s}{m} \rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m} \Par \bout{\dual{s_1}}{ \abs{x_s x_m z} \binp{z}{X} \auxmapp{\pmapp{\bout{s}{m} \rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m}}{v}{\es} } \inact}
		\\

		\pmapp{\bout{s}{m} \rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m} &=&
		\bout{s}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \pmapp{\rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m}
		\\
		&=& \bout{s}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_2}{\appl{X}{s,m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_s x_m z}{\appl{X}{x_s x_m z}}} \inact}
		\\

		\auxmapp{\pmapp{\bout{s}{m} \rvar{X}}{2}{f, \rvar{X} \rightarrow x_ax_m}}{v}{\es} &=&
		\auxmapp{\bout{s}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_2}{\appl{X}{s,m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_s x_m z}{\appl{X}{x_s x_m z}}} \inact}}{v}{\es}
		\\

		& = & \bout{x_s}{\abs{x}{\binp{x}{X} \appl{X}{x_m}}} \auxmapp{\newsp{s_2}{\appl{X}{s,m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_s x_m z}{\appl{X}{x_s x_m z}}} \inact}}{v}{\es}
		\\
		& = & \bout{x_s}{\abs{x}{\binp{x}{X} \appl{X}{x_m}}} \newsp{s_2}{\appl{X}{x_s,x_m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_s x_m z}{\appl{X}{x_s x_m z}}} \inact}
	\end{array}
\]
\noi The whole encoding would be:
\[
	\begin{array}{rcl}
		V & = & \abs{x_s x_m z} \binp{z}{X} \bout{x_s}{\abs{x}{\binp{x}{X} \appl{X}{x_m}}} \newsp{s_2}{\appl{X}{x_s,x_m, s_2}  \Par \bout{\dual{s_2}}{\abs{x_s x_m z}{\appl{X}{x_s x_m z}}} \inact}\\
		P & \scong &
		\newsp{s_1}{\bout{\dual{s_1}}{V} \inact \Par \binp{s_1}{X} \bout{s}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_2}{\bout{\dual{s_2}}{\abs{x_s x_m z}{\appl{X}{x_s x_m z}}} \inact} \Par \appl{X}{s,m, s_2}}
	\end{array}
\]

\noi We can observe $P$ as:
\[
	\begin{array}{rcl}
		P &\scong&
		\newsp{s_1}{\bout{\dual{s_1}}{V} \inact \Par \binp{s_1}{X} \bout{a}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_2}{\bout{\dual{s_2}}{\abs{x_a x_m z}{\appl{X}{x_a x_m z}}} \inact} \Par \appl{X}{s,m, s_2}}
		\\
		&\by{\tau}&
		\bout{s}{\abs{x}{\binp{x}{X} \appl{X}{m}}}\\
		&& \newsp{s_2}{\bout{\dual{s_2}}{V} \inact \Par \binp{s_2}{X} \bout{s}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_3}{\bout{\dual{s_3}}{\abs{x_s x_m z}{\appl{X}{x_s x_m z}}} \inact} \Par \appl{X}{s,m, s_3}}
		\\
		&\scong_{\alpha}&
		\bout{s}{\abs{x}{\binp{x}{X} \appl{X}{m}}}\\
		& & \newsp{s_1}{\bout{\dual{s_1}}{V} \inact \Par \binp{s_1}{X} \bout{s}{\abs{x}{\binp{x}{X} \appl{X}{m}}} \newsp{s_2}{\bout{\dual{s_2}}{\abs{x_s x_m z}{\appl{X}{x_s x_m z}}} \inact} \Par \appl{X}{s,m, s_2}}\\
		&\scong& \bout{s}{\abs{x}{\binp{x}{X} \appl{X}{m}}} P
		\\
		&\by{\bactout{s}{\abs{x}{\binp{x}{X} \appl{X}{m}}}}& P
	\end{array}
\]


